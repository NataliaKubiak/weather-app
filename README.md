# Weather Viewer

## Описание проекта
Weather Viewer — это веб-приложение для просмотра текущей погоды в выбранных локациях.  
Проект поддерживает два окружения: **Prod** и **Test**, конфигурируемые через Java-классы `ProdConfig` и `TestConfig`.

## Технологии
### Prod:
- **Spring MVC** + **Thymeleaf**  
- **PostgreSQL**, **Hibernate**, миграции через **Liquibase** (с индексами в скриптах)  
- **Работа с сессиями и cookies вручную**:  
  - Сессии создаются при успешном **sign-up** / **sign-in**  
  - Валидность сессии проверяется при каждом переходе (кроме страниц входа и регистрации)  
  - **Sign-out** удаляет сессию, а истёкшие сессии удаляются через `@Scheduled`  
- **Взаимодействие с OpenWeather API** через `RestTemplate`

### Test:
- **JUnit**, **Spring Tests**  
- Тесты покрывают `UserRegistrationService` и `OpenWeatherService`  
- **Не покрыты тестами**: `AppSessionService` (работа с сессиями) и `LocationService` (сохранение/удаление локаций)

## Как запустить проект
1. Открыть проект в **IntelliJ IDEA**  
2. Убедиться, что настроена **PostgreSQL** (если используется Prod-окружение)  
3. Запустить через IDEA с Tomcat 10.1.xx

## Трудности, с которыми столкнулась
1. **Проблемы с пониманием работы "под капотом"**  
   - Трудно отлаживать то, что работает автоматически или не написано вручную.  
   - ChatGPT давал размытые ответы, приходилось пробовать много вариантов. Иногда решение срабатывало без понимания причины.      

     **Пример:** я долго (2 дня) настраивала тестовый профиль потому что не понимала почему у меня не создавались нужные бины из тестового конфига, потом вылазили какие-то другие проблемы, потом все настройки вроде были правильные но база не подключалась.   

2. **Трудности с H2**  
   - Сложно работать с H2 потому что я не поняла как отловить её существование :) 

3. **Курсы по Spring не помогли в полной мере**  
   - Специально изучала Spring **до Spring Boot**, но при написании проекта казалось, что уроки которые я посмотрела по Спрингу вообще мало связаны с тем что я делала.  

4. **Часто приходилось больше спрашивать, чем писать код**  
   - Часто казалось, что я больше спрашиваю у ChatGPT, как что-то работает, чем пишу код сама. В итоге появилось ощущение, будто проект написан не мной — хотя всё, что можно было решить логически, я старалась делать сама, а вот с настройками и Thymeleaf или Конфигами уже приходилось спрашивать напрямую. 

5. **Проблема с memory leak из-за новой версии зависимости**  
   - Решилось откатом на старую версию. В `build.gradle` оставлены комментарии с проверенными вариантами. Я попробовала **8 версий!**  
